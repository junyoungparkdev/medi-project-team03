# 로그데이터 AWS EMR 프로젝트
<br/>

## 이어드림스쿨3기 기업연계 프로젝트 데이터엔지니어링트랙 3팀의 프로젝트를 기록했습니다.
<br/>
<br/>
<br/>
<br/>

# 프로젝트 한줄소개. 
Medi* 사의 로그데이터 적재 과정 중 발생하는 쿼리 부하를, aws emr 환경에서 scala, pyspark로 변환하여 해소하는 프로젝트입니다.
<br/>
<br/>
<br/>

## 프로젝트 개요.
<br/>
<img width="607" alt="image" src="https://github.com/junyoungparkdev/medi-project-team03/assets/132217286/69ea1829-2b5b-41ae-98c2-2acc116d7b7a">

S3버켓에 일일 단위로 적재되는 유저 로그 데이터를 DW에 이관하는 과정에서 DW에 부하가 발생하는 이슈가 있었습니다.  
해당 부하를 해결하기 위해 기존의 쿼리문을 emr 워크스페이스에서 pyspark, scala로 변환하는 작업이 요구되었습니다. 
<br/>
<br/>
<br/>
## 사용된 기술.  
pyspark, spark, scala, aws emr, redshift  
<br/>
<br/>
<br/>
## 프로젝트 세부정보.  
1. 로그 데이터는 중첩구조의 Json형식으로 저장되어 있어, 사측의 요구에 맞는 데이터를 저장하기 위해서 중첩구조를 해소해야했습니다. 
2. raw 수 2000만을 초과하는 데이터였기에 리소스 비용 절감과 요구에 적합한 변환을 위한 컬럼값만을 취하기 위해 스키마를 우선적으로 지정했습니다.
3. 사측이 기존에 진행했던 쿼리문의 기능을 그대로 구현한 scala, pyspark 코드를 작성해야 했습니다.

